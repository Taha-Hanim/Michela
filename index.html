<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üå∏ My Princess Valentine | For Michela üå∏</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Quicksand:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --pink-light: #ffcfe1;
            --pink-medium: #ff9ec0;
            --pink-dark: #ff6b9d;
            --purple-light: #e0bbff;
            --purple-medium: #cdb4db;
            --purple-dark: #b185db;
            --gold: #ffd166;
            --white: #fffaf0;
            --text: #5a3d5c;
        }

        body {
            background: linear-gradient(135deg, #fff0f7 0%, #f8f0ff 100%);
            color: var(--text);
            font-family: 'Quicksand', sans-serif;
            min-height: 100vh;
            overflow-x: hidden;
            background-image: 
                url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ff9ec0' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
        }

        /* Floating Hearts Background */
        .floating-hearts {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .floating-heart {
            position: absolute;
            font-size: 24px;
            opacity: 0.3;
            animation: float 8s infinite ease-in-out;
        }

        .floating-heart:nth-child(2n) {
            animation-delay: 1s;
            animation-duration: 10s;
        }

        .floating-heart:nth-child(3n) {
            animation-delay: 2s;
            animation-duration: 12s;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-100px) rotate(180deg); }
        }

        /* Main Container */
        .princess-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
        }

        /* Header */
        .princess-header {
            text-align: center;
            padding: 40px 20px;
            position: relative;
        }

        .crown-icon {
            font-size: 4rem;
            color: var(--gold);
            margin-bottom: 20px;
            animation: crownSparkle 2s infinite;
        }

        @keyframes crownSparkle {
            0%, 100% { transform: scale(1); text-shadow: 0 0 10px rgba(255, 209, 102, 0.5); }
            50% { transform: scale(1.1); text-shadow: 0 0 20px rgba(255, 209, 102, 0.8); }
        }

        .header-title {
            font-family: 'Dancing Script', cursive;
            font-size: 4.5rem;
            color: var(--pink-dark);
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .header-subtitle {
            font-size: 1.4rem;
            color: var(--purple-dark);
            font-weight: 300;
        }

        .princess-name {
            display: inline-block;
            background: linear-gradient(45deg, var(--pink-dark), var(--purple-dark));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 600;
            padding: 5px 20px;
            border-radius: 30px;
            margin-top: 20px;
            border: 2px dashed var(--pink-medium);
        }

        /* Envelope Container */
        .envelope-container {
            background: white;
            border-radius: 30px;
            padding: 40px;
            margin: 30px 0;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08);
            border: 3px solid var(--pink-light);
            position: relative;
            overflow: hidden;
        }

        .envelope-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 8px;
            background: linear-gradient(90deg, var(--pink-light), var(--purple-light), var(--pink-light));
        }

        .envelope-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px dotted var(--pink-medium);
        }

        .envelope-icon {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, var(--pink-medium), var(--pink-dark));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            color: white;
            box-shadow: 0 10px 20px rgba(255, 107, 157, 0.3);
            animation: heartbeat 1.5s infinite;
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .envelope-title {
            font-family: 'Dancing Script', cursive;
            font-size: 2.8rem;
            color: var(--purple-dark);
        }

        /* Message Content */
        .message-content {
            line-height: 1.8;
            font-size: 1.2rem;
            padding: 20px;
        }

        .message-paragraph {
            margin-bottom: 25px;
            position: relative;
            padding-left: 30px;
        }

        .message-paragraph::before {
            content: 'üíï';
            position: absolute;
            left: 0;
            top: 0;
        }

        .special-question {
            text-align: center;
            background: linear-gradient(135deg, #fff0f7, #f8f0ff);
            padding: 40px;
            margin: 40px 0;
            border-radius: 20px;
            border: 2px solid var(--pink-medium);
            position: relative;
            overflow: hidden;
        }

        .special-question::before {
            content: '‚ú®';
            position: absolute;
            top: 10px;
            left: 10px;
            font-size: 2rem;
            animation: sparkle 2s infinite;
        }

        .special-question::after {
            content: '‚ú®';
            position: absolute;
            bottom: 10px;
            right: 10px;
            font-size: 2rem;
            animation: sparkle 2s infinite reverse;
        }

        @keyframes sparkle {
            0%, 100% { opacity: 0.5; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        .question-text {
            font-family: 'Dancing Script', cursive;
            font-size: 2.5rem;
            color: var(--pink-dark);
            margin-bottom: 20px;
        }

        .princess-call {
            font-size: 2rem;
            color: var(--purple-dark);
            font-weight: 600;
            margin: 20px 0;
            padding: 10px 30px;
            background: rgba(255, 209, 102, 0.2);
            border-radius: 50px;
            display: inline-block;
            border: 2px dashed var(--gold);
        }

        /* Signature */
        .signature {
            text-align: right;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px dashed var(--pink-medium);
        }

        .signature-name {
            font-family: 'Dancing Script', cursive;
            font-size: 2.5rem;
            color: var(--purple-dark);
        }

        /* Response Section */
        .response-section {
            background: white;
            border-radius: 30px;
            padding: 40px;
            margin: 40px 0;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08);
            border: 3px solid var(--purple-light);
            text-align: center;
        }

        .response-title {
            font-family: 'Dancing Script', cursive;
            font-size: 3rem;
            color: var(--purple-dark);
            margin-bottom: 30px;
        }

        .response-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin: 40px 0;
        }

        .response-option {
            background: linear-gradient(135deg, #fff0f7, white);
            padding: 30px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .response-option:hover {
            transform: translateY(-10px);
            border-color: var(--pink-medium);
            box-shadow: 0 15px 30px rgba(255, 107, 157, 0.2);
        }

        .response-option.selected {
            border-color: var(--gold);
            background: linear-gradient(135deg, #fff9e6, white);
            box-shadow: 0 15px 30px rgba(255, 209, 102, 0.3);
        }

        .response-option.yes:hover {
            border-color: #4CAF50;
        }

        .response-option.no:hover {
            border-color: var(--pink-dark);
        }

        .option-icon {
            font-size: 4rem;
            margin-bottom: 20px;
        }

        .response-option.yes .option-icon {
            color: #4CAF50;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .response-option.no .option-icon {
            color: var(--pink-dark);
        }

        .option-text {
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .option-description {
            font-size: 1rem;
            color: var(--text);
            opacity: 0.8;
        }

        /* Message Input */
        .message-input-container {
            margin-top: 40px;
        }

        .message-label {
            display: block;
            font-size: 1.3rem;
            color: var(--purple-dark);
            margin-bottom: 15px;
            font-weight: 600;
        }

        .message-textarea {
            width: 100%;
            padding: 20px;
            border: 2px solid var(--pink-light);
            border-radius: 15px;
            font-size: 1.1rem;
            font-family: 'Quicksand', sans-serif;
            resize: vertical;
            min-height: 150px;
            background: #fffafc;
            transition: all 0.3s ease;
        }

        .message-textarea:focus {
            outline: none;
            border-color: var(--pink-medium);
            box-shadow: 0 0 20px rgba(255, 158, 192, 0.3);
            background: white;
        }

        /* Submit Button */
        .submit-button {
            display: block;
            width: 100%;
            padding: 20px;
            background: linear-gradient(45deg, var(--pink-dark), var(--purple-dark));
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 1.4rem;
            font-weight: 600;
            cursor: pointer;
            margin-top: 30px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            font-family: 'Quicksand', sans-serif;
        }

        .submit-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: 0.5s;
        }

        .submit-button:hover::before {
            left: 100%;
        }

        .submit-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(177, 133, 219, 0.4);
        }

        .submit-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .submit-button:disabled:hover::before {
            left: -100%;
        }

        /* Result Display */
        .result-display {
            background: white;
            border-radius: 30px;
            padding: 60px 40px;
            margin: 40px 0;
            text-align: center;
            display: none;
            animation: fadeIn 1s ease;
            border: 3px solid var(--pink-light);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .result-icon {
            font-size: 6rem;
            margin-bottom: 30px;
            animation: celebrate 2s infinite;
        }

        @keyframes celebrate {
            0%, 100% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.2) rotate(5deg); }
            50% { transform: scale(1.1) rotate(-5deg); }
            75% { transform: scale(1.2) rotate(5deg); }
        }

        .result-title {
            font-family: 'Dancing Script', cursive;
            font-size: 3.5rem;
            color: var(--purple-dark);
            margin-bottom: 20px;
        }

        .result-message {
            font-size: 1.3rem;
            line-height: 1.8;
            max-width: 600px;
            margin: 0 auto 30px;
        }

        /* Footer */
        .princess-footer {
            text-align: center;
            padding: 40px 20px;
            margin-top: 40px;
            color: var(--purple-dark);
            border-top: 2px dashed var(--pink-light);
        }

        .footer-heart {
            color: var(--pink-dark);
            animation: heartbeat 1.5s infinite;
            display: inline-block;
        }

        /* Heart Rain Effect */
        .heart-rain {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header-title {
                font-size: 3rem;
            }
            
            .envelope-title {
                font-size: 2.2rem;
            }
            
            .question-text {
                font-size: 2rem;
            }
            
            .response-options {
                grid-template-columns: 1fr;
            }
            
            .princess-container {
                padding: 10px;
            }
        }

        @media (max-width: 480px) {
            .header-title {
                font-size: 2.5rem;
            }
            
            .envelope-container, .response-section {
                padding: 20px;
            }
            
            .message-content {
                padding: 10px;
            }
            
            .princess-name {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Floating Hearts Background -->
    <div class="floating-hearts" id="floatingHearts"></div>
    
    <!-- Heart Rain for Celebration -->
    <div class="heart-rain" id="heartRain"></div>
    
    <!-- Main Container -->
    <div class="princess-container">
        <!-- Header -->
        <header class="princess-header">
            <div class="crown-icon">
                <i class="fas fa-crown"></i>
            </div>
            <h1 class="header-title">My Princess Valentine</h1>
            <p class="header-subtitle">A special message from my heart to yours</p>
            <div class="princess-name">
                <i class="fas fa-heart"></i> For Princess Michela <i class="fas fa-heart"></i>
            </div>
        </header>
        
        <!-- Love Letter Envelope -->
        <div class="envelope-container">
            <div class="envelope-header">
                <div class="envelope-icon">
                    <i class="fas fa-heart"></i>
                </div>
                <h2 class="envelope-title">My Dearest Michela,</h2>
            </div>
            
            <div class="message-content">
                <p class="message-paragraph">
                    From the moment we met, my world has been filled with sunshine and rainbows. Every time I hear your smile, it feels like the whole world stops for a moment just to admire how beautiful you are.
                </p>
                
                <p class="message-paragraph">
                    You have this magical way of making everything better. Your laughter is my favorite sound, your kindness inspires me every day, and your presence feels like coming home to the warmest, safest place in the world.
                </p>
                
                <p class="message-paragraph">
                    I find myself thinking about you all the time - wondering what you're doing, hoping you're happy, and dreaming about what it would be like to see you smile because of something I did.
                </p>
                
                <div class="special-question">
                    <div class="question-text">
                        This Valentine's Day, I have just one question for the most special and only princess there is...
                    </div>
                    
                    <div class="princess-call">
                        üíñ Princess Michela üíñ
                    </div>
                    
                    <div class="question-text" style="font-size: 2.2rem;">
                        Will you be my Valentine and let me make this day magical for you?
                    </div>
                </div>
                
                <p class="message-paragraph">
                    No matter what your answer is, please know that you are the most amazing person I've ever met. I will always cherish our connection and the wonderful person you are.
                </p>
                
                <div class="signature">
                    <p>With all my heart,</p>
                    <div class="signature-name">Taha</div>
                    <p style="font-size: 0.9rem; margin-top: 10px; color: var(--pink-medium);">
                        Your secret admirer
                    </p>
                </div>
            </div>
        </div>
        
        <!-- Response Section -->
        <div class="response-section" id="responseSection">
            <h2 class="response-title">Your Response, Princess</h2>
            <p style="font-size: 1.2rem; margin-bottom: 30px; color: var(--purple-dark);">
                Please choose your answer below:
            </p>
            
            <div class="response-options">
                <div class="response-option yes" data-answer="yes">
                    <div class="option-icon">
                        <i class="fas fa-heart-circle-check"></i>
                    </div>
                    <div class="option-text">YES! Absolutely! üíñ</div>
                    <div class="option-description">I'd love to be your Valentine</div>
                </div>
                
                <div class="response-option no" data-answer="no">
                    <div class="option-icon">
                        <i class="fas fa-heart-crack"></i>
                    </div>
                    <div class="option-text">Let's be friends</div>
                    <div class="option-description">I appreciate your feelings</div>
                </div>
            </div>
            
            <div class="message-input-container">
                <label class="message-label">
                    <i class="fas fa-feather-alt"></i> Optional Message:
                </label>
                <textarea class="message-textarea" id="personalMessage" placeholder="Write a sweet note back if you'd like... üå∏"></textarea>
            </div>
            
            <button class="submit-button" id="submitBtn" disabled>
                <i class="fas fa-paper-plane"></i> Send My Answer to Taha
            </button>
            
            <p style="margin-top: 20px; font-size: 0.9rem; color: var(--pink-medium);">
                <i class="fas fa-lock"></i> Your response will be sent privately and securely
            </p>
        </div>
        
        <!-- Result Displays -->
        <div class="result-display yes-result" id="yesResult">
            <div class="result-icon">
                <i class="fas fa-heart-circle-check"></i>
            </div>
            <h2 class="result-title">You Made My Heart So Happy! üéâ</h2>
            <div class="result-message">
                <p>My Little Princess Michela! üíñ</p>
                <p>I'm over the moon excited! I can't wait to make this Valentine's Day absolutely magical for you.</p>
                <p>You've just made this the best day of my life! ‚ú®</p>
            </div>
            <div style="margin-top: 30px; padding: 20px; background: rgba(255, 209, 102, 0.1); border-radius: 15px;">
                <i class="fas fa-envelope" style="color: var(--purple-dark);"></i>
                <p style="margin-top: 10px; font-size: 1.1rem;">
                    I'll be in touch soon to plan something special for us! üíå
                </p>
            </div>
        </div>
        
        <div class="result-display no-result" id="noResult">
            <div class="result-icon">
                <i class="fas fa-heart-crack"></i>
            </div>
            <h2 class="result-title">Thank You For Your Honesty üíù</h2>
            <div class="result-message">
                <p>I truly appreciate you taking the time to read my message and respond so honestly.</p>
                <p>I respect your decision completely, and I value the wonderful person you are.</p>
                <p>You deserve all the happiness in the world, and I'll always cherish our friendship.</p>
            </div>
            <div style="margin-top: 30px; padding: 20px; background: rgba(255, 158, 192, 0.1); border-radius: 15px;">
                <i class="fas fa-star" style="color: var(--pink-dark);"></i>
                <p style="margin-top: 10px; font-size: 1.1rem;">
                    Wishing you a beautiful Valentine's Day filled with love and joy üå∏
                </p>
            </div>
        </div>
        
        <!-- Footer -->
        <footer class="princess-footer">
            <p>Created with <i class="fas fa-heart footer-heart"></i> especially for Princess Michela</p>
            <p style="margin-top: 20px; font-size: 0.9rem; color: var(--purple-medium);">
                This special message is meant only for you, my princess üíï
            </p>
        </footer>
    </div>

    <script>
        // Create floating hearts background
        function createFloatingHearts() {
            const floatingHearts = document.getElementById('floatingHearts');
            const heartColors = ['#ff6b9d', '#ff9ec0', '#cdb4db', '#b185db'];
            const heartIcons = ['‚ù§Ô∏è', 'üíï', 'üíñ', 'üíó', 'üíì', 'üíû', 'üíù'];
            
            for (let i = 0; i < 25; i++) {
                const heart = document.createElement('div');
                heart.className = 'floating-heart';
                
                const size = Math.random() * 20 + 15;
                const x = Math.random() * 100;
                const startY = Math.random() * 100 + 100;
                const color = heartColors[Math.floor(Math.random() * heartColors.length)];
                const icon = heartIcons[Math.floor(Math.random() * heartIcons.length)];
                
                heart.innerHTML = icon;
                heart.style.left = `${x}%`;
                heart.style.top = `${startY}%`;
                heart.style.fontSize = `${size}px`;
                heart.style.color = color;
                heart.style.opacity = Math.random() * 0.3 + 0.1;
                
                // Random animation delay
                heart.style.animationDelay = `${Math.random() * 5}s`;
                
                floatingHearts.appendChild(heart);
            }
        }

        // Formspree integration
        const FORMSPREE_ENDPOINT = "https://formspree.io/f/mrelwzrb";
        
        // DOM elements
        const responseOptions = document.querySelectorAll('.response-option');
        const submitBtn = document.getElementById('submitBtn');
        const personalMessage = document.getElementById('personalMessage');
        const responseSection = document.getElementById('responseSection');
        const yesResult = document.getElementById('yesResult');
        const noResult = document.getElementById('noResult');
        
        let selectedAnswer = null;
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            createFloatingHearts();
            
            // Set up response option listeners
            responseOptions.forEach(option => {
                option.addEventListener('click', function() {
                    selectAnswer(this.dataset.answer);
                });
            });
            
            // Set up submit button
            submitBtn.addEventListener('click', submitResponse);
            
            // Add sparkle effect to princess name
            addSparkleEffect();
            
            // Add gentle animations to message paragraphs
            animateMessageParagraphs();
        });
        
        // Select answer
        function selectAnswer(answer) {
            selectedAnswer = answer;
            
            // Update option styles
            responseOptions.forEach(option => {
                option.classList.remove('selected');
                if (option.dataset.answer === answer) {
                    option.classList.add('selected');
                    
                    // Add little bounce effect
                    option.style.transform = 'scale(1.05)';
                    setTimeout(() => {
                        option.style.transform = '';
                    }, 300);
                }
            });
            
            // Enable submit button
            submitBtn.disabled = false;
            submitBtn.innerHTML = `<i class="fas fa-paper-plane"></i> Send My "${answer.toUpperCase()}" Answer`;
            
            // Add cute selection effect
            createSelectionSparkles();
        }
        
        // Create selection sparkles
        function createSelectionSparkles() {
            const sparkles = ['‚ú®', 'üåü', 'üí´', 'üå∏', 'üíñ'];
            
            for (let i = 0; i < 10; i++) {
                setTimeout(() => {
                    const sparkle = document.createElement('div');
                    sparkle.innerHTML = sparkles[Math.floor(Math.random() * sparkles.length)];
                    sparkle.style.position = 'fixed';
                    sparkle.style.left = `${Math.random() * 100}%`;
                    sparkle.style.top = `${Math.random() * 100}%`;
                    sparkle.style.fontSize = `${Math.random() * 25 + 15}px`;
                    sparkle.style.opacity = '0.8';
                    sparkle.style.zIndex = '9999';
                    sparkle.style.pointerEvents = 'none';
                    
                    document.body.appendChild(sparkle);
                    
                    // Animation
                    const duration = Math.random() * 1.5 + 1;
                    sparkle.style.animation = `float ${duration}s ease-in forwards`;
                    
                    // Remove after animation
                    setTimeout(() => {
                        if (sparkle.parentNode) {
                            sparkle.remove();
                        }
                    }, duration * 1000);
                }, i * 100);
            }
        }
        
        // Submit response
        async function submitResponse() {
            if (!selectedAnswer) return;
            
            const message = personalMessage.value.trim();
            
            // Prepare form data for Formspree
            const formData = new FormData();
            formData.append('answer', selectedAnswer);
            formData.append('message', message);
            formData.append('timestamp', new Date().toISOString());
            formData.append('valentine_proposal', 'princess_website');
            
            // Show loading state
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending your sweet answer...';
            submitBtn.disabled = true;
            
            try {
                // Send to Formspree
                const response = await fetch(FORMSPREE_ENDPOINT, {
                    method: 'POST',
                    body: formData,
                    headers: {
                        'Accept': 'application/json'
                    }
                });
                
                // Add a little delay for effect
                await new Promise(resolve => setTimeout(resolve, 1500));
                
                if (response.ok) {
                    // Show success message
                    responseSection.style.display = 'none';
                    
                    if (selectedAnswer === 'yes') {
                        yesResult.style.display = 'block';
                        createHeartRain();
                        createCelebration();
                    } else {
                        noResult.style.display = 'block';
                        createRespectfulEffect();
                    }
                    
                    // Save to localStorage
                    localStorage.setItem('valentineResponse', JSON.stringify({
                        answer: selectedAnswer,
                        message: message,
                        date: new Date().toISOString(),
                        website: 'princess_valentine'
                    }));
                    
                } else {
                    throw new Error('Sending failed');
                }
            } catch (error) {
                console.log('Formspree failed, using local storage:', error);
                
                // Fallback to localStorage
                localStorage.setItem('valentineResponse', JSON.stringify({
                    answer: selectedAnswer,
                    message: message,
                    date: new Date().toISOString(),
                    website: 'princess_valentine'
                }));
                
                // Show result anyway
                responseSection.style.display = 'none';
                
                if (selectedAnswer === 'yes') {
                    yesResult.style.display = 'block';
                    createHeartRain();
                    createCelebration();
                } else {
                    noResult.style.display = 'block';
                    createRespectfulEffect();
                }
            }
        }
        
        // Create heart rain celebration
        function createHeartRain() {
            const heartRain = document.getElementById('heartRain');
            const hearts = ['‚ù§Ô∏è', 'üíï', 'üíñ', 'üíó', 'üíì', 'üíû', 'üíù', 'üå∏', '‚ú®'];
            
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.innerHTML = hearts[Math.floor(Math.random() * hearts.length)];
                    heart.style.position = 'fixed';
                    heart.style.left = `${Math.random() * 100}%`;
                    heart.style.top = `-50px`;
                    heart.style.fontSize = `${Math.random() * 30 + 20}px`;
                    heart.style.opacity = '0.8';
                    heart.style.zIndex = '9999';
                    heart.style.pointerEvents = 'none';
                    
                    heartRain.appendChild(heart);
                    
                    // Falling animation
                    const duration = Math.random() * 2 + 2;
                    const endX = (Math.random() - 0.5) * 200;
                    
                    const keyframes = [
                        { transform: `translate(0, 0) rotate(0deg)`, opacity: 1 },
                        { transform: `translate(${endX}px, 100vh) rotate(360deg)`, opacity: 0 }
                    ];
                    
                    const options = {
                        duration: duration * 1000,
                        easing: 'cubic-bezier(0.4, 0, 0.2, 1)'
                    };
                    
                    heart.animate(keyframes, options);
                    
                    // Remove after animation
                    setTimeout(() => {
                        if (heart.parentNode) {
                            heart.remove();
                        }
                    }, duration * 1000);
                }, i * 100);
            }
        }
        
        // Create celebration effect
        function createCelebration() {
            const celebrations = ['üéâ', '‚ú®', 'üåü', 'ü•≥', 'üéä', 'üíñ', 'üíï', 'üíó', 'üå∏'];
            
            for (let i = 0; i < 30; i++) {
                setTimeout(() => {
                    const element = document.createElement('div');
                    element.innerHTML = celebrations[Math.floor(Math.random() * celebrations.length)];
                    element.style.position = 'fixed';
                    element.style.left = `${Math.random() * 100}%`;
                    element.style.top = `${Math.random() * 100}%`;
                    element.style.fontSize = `${Math.random() * 40 + 20}px`;
                    element.style.opacity = '0.9';
                    element.style.zIndex = '9998';
                    element.style.pointerEvents = 'none';
                    
                    document.body.appendChild(element);
                    
                    // Animation
                    const duration = Math.random() * 3 + 2;
                    element.style.animation = `float ${duration}s ease-in forwards`;
                }, i * 150);
            }
            
            // Play a cute sound in imagination
            console.log("üéµ Imaginary celebration music: da da da DAAAA! üíñ");
        }
        
        // Create respectful effect
        function createRespectfulEffect() {
            const elements = ['‚ú®', 'üåü', 'üí´', 'üå∏', 'üíù'];
            
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    const element = document.createElement('div');
                    element.innerHTML = elements[Math.floor(Math.random() * elements.length)];
                    element.style.position = 'fixed';
                    element.style.left = `${Math.random() * 100}%`;
                    element.style.top = `${Math.random() * 100}%`;
                    element.style.fontSize = `${Math.random() * 25 + 15}px`;
                    element.style.opacity = '0.7';
                    element.style.zIndex = '9998';
                    element.style.pointerEvents = 'none';
                    
                    document.body.appendChild(element);
                    
                    // Gentle animation
                    const duration = Math.random() * 4 + 3;
                    element.style.animation = `float ${duration}s ease-in forwards`;
                }, i * 200);
            }
        }
        
        // Add sparkle effect to princess name
        function addSparkleEffect() {
            const princessName = document.querySelector('.princess-name');
            setInterval(() => {
                const sparkles = ['‚ú®', 'üåü', 'üí´'];
                const sparkle = document.createElement('span');
                sparkle.innerHTML = sparkles[Math.floor(Math.random() * sparkles.length)];
                sparkle.style.position = 'absolute';
                sparkle.style.fontSize = '1.2rem';
                sparkle.style.animation = 'sparkle 1s ease-out';
                
                const x = Math.random() * 100;
                const y = Math.random() * 100;
                
                sparkle.style.left = `${x}%`;
                sparkle.style.top = `${y}%`;
                
                princessName.style.position = 'relative';
                princessName.appendChild(sparkle);
                
                setTimeout(() => {
                    if (sparkle.parentNode) {
                        sparkle.remove();
                    }
                }, 1000);
            }, 2000);
        }
        
        // Animate message paragraphs
        function animateMessageParagraphs() {
            const paragraphs = document.querySelectorAll('.message-paragraph');
            
            paragraphs.forEach((para, index) => {
                setTimeout(() => {
                    para.style.opacity = '0';
                    para.style.transform = 'translateY(20px)';
                    para.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                    
                    setTimeout(() => {
                        para.style.opacity = '1';
                        para.style.transform = 'translateY(0)';
                    }, 100);
                }, index * 300);
            });
        }
        
        // Add float animation CSS
        const floatStyle = document.createElement('style');
        floatStyle.textContent = `
            @keyframes float {
                0% {
                    transform: translateY(0) rotate(0deg);
                    opacity: 1;
                }
                100% {
                    transform: translateY(-100vh) rotate(360deg);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(floatStyle);
    </script>
</body>
</html>
